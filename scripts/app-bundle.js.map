{"version":3,"sources":["app.js","environment.js","item-view.js","item.js","main.js","resources/index.js","app.scss"],"names":["App","items","lastId","push","refreshItems","widgets","i","widget","currentItem","find","a","id","x","y","width","height","attached","options","cellHeight","verticalMargin","auto","$","gridstack","on","event","printItens","console","log","addItem","content","newItem","itemAttached","item","DOMReference","DOMref","grid","data","makeWidget","itemRemoved","index","indexOf","removeWidget","splice","debug","testing","ItemView","rendered","removeItem","removed","undefined","Item","configure","aurelia","use","standardConfiguration","feature","developmentLogging","plugin","start","then","setRoot","config"],"mappings":";;;;;;;;;;;;;;;;;;;;;;MAMaA,cAAAA;AAGX,mBAAc;AAAA;;AAAA,WAFdC,KAEc,GAFN,EAEM;AAAA,WADdC,MACc,GADL,CACK;;AACZ,WAAKD,KAAL,CAAWE,IAAX,CAAgB,eAAS,KAAKD,MAAL,EAAT,EAAwB,CAAxB,EAA2B,CAA3B,EAA8B,CAA9B,EAAiC,CAAjC,EAAoC,OAApC,CAAhB;AACA,WAAKD,KAAL,CAAWE,IAAX,CAAgB,eAAS,KAAKD,MAAL,EAAT,EAAwB,CAAxB,EAA2B,CAA3B,EAA8B,CAA9B,EAAiC,CAAjC,EAAoC,QAApC,CAAhB;AACA,WAAKD,KAAL,CAAWE,IAAX,CAAgB,eAAS,KAAKD,MAAL,EAAT,EAAwB,CAAxB,EAA2B,CAA3B,EAA8B,CAA9B,EAAiC,CAAjC,EAAoC,KAApC,CAAhB;AACA,WAAKD,KAAL,CAAWE,IAAX,CAAgB,eAAS,KAAKD,MAAL,EAAT,EAAwB,EAAxB,EAA4B,CAA5B,EAA+B,CAA/B,EAAkC,CAAlC,EAAqC,KAArC,CAAhB;AACD;;kBAEDE,qCAAaC,SAAQ;AACnB,WAAK,IAAIC,CAAT,IAAcD,OAAd,EAAuB;AACnB,YAAIE,SAAUF,QAAQC,CAAR,CAAd;AACA,YAAIE,cAAc,KAAKP,KAAL,CAAWQ,IAAX,CAAgB,aAAK;AAAE,iBAAOC,EAAEC,EAAF,IAAQJ,OAAOI,EAAtB;AAA0B,SAAjD,CAAlB;AACAH,oBAAYI,CAAZ,GAAgBL,OAAOK,CAAvB;AACAJ,oBAAYK,CAAZ,GAAgBN,OAAOM,CAAvB;AACAL,oBAAYM,KAAZ,GAAoBP,OAAOO,KAA3B;AACAN,oBAAYO,MAAZ,GAAqBR,OAAOQ,MAA5B;AACH;AACF;;kBAEDC,+BAAW;AAAA;;AACT,WAAKC,OAAL,GAAe;AACbC,oBAAY,EADC;AAEbC,wBAAgB,EAFH;AAGbC,cAAM;AAHO,OAAf;;AAMAC,QAAE,aAAF,EAAiBC,SAAjB,CAA2B,KAAKL,OAAhC;;AAEAI,QAAE,aAAF,EAAiBE,EAAjB,CAAoB,QAApB,EAA8B,UAACC,KAAD,EAAQvB,KAAR,EAAkB;AAC5C,cAAKG,YAAL,CAAkBH,KAAlB;AACH,OAFD;AAID;;kBAEDwB,mCAAa;AACXC,cAAQC,GAAR,CAAY,KAAK1B,KAAjB;AACD;;kBAED2B,6BAAU;AACR,UAAIC,UAAU,cAAc,KAAK3B,MAAjC;AACA,UAAI4B,UAAU,eAAS,KAAK5B,MAAL,EAAT,EAAwB,CAAxB,EAA2B,CAA3B,EAA8B,CAA9B,EAAiC,CAAjC,EAAoC2B,OAApC,CAAd;AACA,WAAK5B,KAAL,CAAWE,IAAX,CAAgB2B,OAAhB;AACD;;kBAEDC,qCAAaC,MAAM;AACjB,UAAIC,eAAeD,KAAKE,MAAxB;AACA,UAAIC,OAAOd,EAAE,qBAAF,EAAyBe,IAAzB,CAA8B,WAA9B,CAAX;AACAD,WAAKE,UAAL,CAAgBJ,YAAhB;AACD;;kBAEDK,mCAAYN,MAAK;AACf,UAAIO,QAAQ,KAAKtC,KAAL,CAAWuC,OAAX,CAAmBR,IAAnB,CAAZ;AACA,UAAIO,QAAQ,CAAC,CAAb,EAAe;AACb,YAAIJ,OAAOd,EAAE,qBAAF,EAAyBe,IAAzB,CAA8B,WAA9B,CAAX;AACAD,aAAKM,YAAL,CAAkBT,KAAKE,MAAvB;AACA,aAAKjC,KAAL,CAAWyC,MAAX,CAAkBH,KAAlB,EAAyB,CAAzB;AACD;AACF;;;;;;;;;;;oBCjEY;AACbI,WAAO,IADM;AAEbC,aAAS;AAFI;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;MCGFC,mBAAAA,mBADZ;AAMC,wBAAc;AAAA;;AAAA;;AAAA;;AAAA;;AAAA,WADdtC,MACc,GADL,EACK;AACb;;uBACDS,+BAAW;AACT,UAAI,OAAQ,KAAK8B,QAAb,IAA0B,UAA9B,EACE,KAAKA,QAAL,CAAc,KAAKd,IAAnB;AAEH;;uBACDe,mCAAa;AACX,UAAI,OAAQ,KAAKD,QAAb,IAA0B,UAA9B,EACE,KAAKE,OAAL,CAAa,KAAKhB,IAAlB;AACH;;;;;;;;;aAboBiB;;;;;aACDA;;;;;;;;;;;;;;;;;MCNTC,eAAAA,OACV,cAAYvC,EAAZ,EAAgBC,CAAhB,EAAmBC,CAAnB,EAAsBC,KAAtB,EAA6BC,MAA7B,EAAqCc,OAArC,EAA8C;AAAA;;AAC7C,SAAKlB,EAAL,GAAUA,EAAV;AACA,SAAKC,CAAL,GAASA,CAAT;AACA,SAAKC,CAAL,GAASA,CAAT;AACA,SAAKC,KAAL,GAAaA,KAAb;AACA,SAAKC,MAAL,GAAcA,MAAd;AACA,SAAKc,OAAL,GAAeA,OAAf;AACD;;;;;;;;UCNasB,YAAAA;;;;;;;;;;AAAT,WAASA,SAAT,CAAmBC,OAAnB,EAA4B;AACjCA,YAAQC,GAAR,CACGC,qBADH,GAEGC,OAFH,CAEW,WAFX;;AAIA,QAAI,sBAAYZ,KAAhB,EAAuB;AACrBS,cAAQC,GAAR,CAAYG,kBAAZ;AACD;;AAED,QAAI,sBAAYZ,OAAhB,EAAyB;AACvBQ,cAAQC,GAAR,CAAYI,MAAZ,CAAmB,iBAAnB;AACD;;AAEDL,YAAQM,KAAR,GAAgBC,IAAhB,CAAqB;AAAA,aAAMP,QAAQQ,OAAR,EAAN;AAAA,KAArB;AACD;;;;;;;;UChBeT,YAAAA;AAAT,WAASA,SAAT,CAAmBU,MAAnB,EAA2B,CAEjC;;ACFD,wBAAwB,CAAA;EACpB,MAAM,EAAE,eAAgB,GAC3B;;AACD,gBAAgB,CAAA;EACZ,2BAA2B,EAC9B","file":"app-bundle.js","sourcesContent":["import { observable } from 'aurelia-framework';\r\nimport gridstack from 'gridstack';\r\nimport 'gridstack.jQueryUI';\r\nimport { Item } from './item';\r\n\r\n\r\nexport class App {\r\n  items = [];\r\n  lastId = 0;\r\n  constructor() {\r\n    this.items.push(new Item(this.lastId++, 0, 0, 4, 2, 'first'));\r\n    this.items.push(new Item(this.lastId++, 4, 0, 4, 4, 'second'));\r\n    this.items.push(new Item(this.lastId++, 8, 0, 2, 2, 'foo'));\r\n    this.items.push(new Item(this.lastId++, 10, 0, 2, 2, 'bar'));\r\n  }\r\n\r\n  refreshItems(widgets){\r\n    for (let i in widgets) {\r\n        var widget =  widgets[i];\r\n        var currentItem = this.items.find(a => { return a.id == widget.id });\r\n        currentItem.x = widget.x;\r\n        currentItem.y = widget.y;\r\n        currentItem.width = widget.width;\r\n        currentItem.height = widget.height;                \r\n    }\r\n  }\r\n  \r\n  attached() {\r\n    this.options = {\r\n      cellHeight: 80,\r\n      verticalMargin: 10,\r\n      auto: false,\r\n    };\r\n    \r\n    $('.grid-stack').gridstack(this.options);    \r\n\r\n    $('.grid-stack').on('change', (event, items) => {\r\n        this.refreshItems(items);\r\n    });\r\n    \r\n  }\r\n\r\n  printItens() {\r\n    console.log(this.items);\r\n  }\r\n\r\n  addItem() {\r\n    let content = 'new item ' + this.lastId;\r\n    var newItem = new Item(this.lastId++, 0, 0, 2, 2, content);\r\n    this.items.push(newItem);\r\n  }\r\n\r\n  itemAttached(item) {\r\n    let DOMReference = item.DOMref;\r\n    let grid = $('.dynamic-grid-stack').data('gridstack');\r\n    grid.makeWidget(DOMReference);    \r\n  }\r\n\r\n  itemRemoved(item){\r\n    var index = this.items.indexOf(item);\r\n    if (index > -1){\r\n      let grid = $('.dynamic-grid-stack').data('gridstack');\r\n      grid.removeWidget(item.DOMref);\r\n      this.items.splice(index, 1);      \r\n    }\r\n  }\r\n}\r\n","export default {\n  debug: true,\n  testing: true\n};\n","import { bindable, containerless } from 'aurelia-framework';\r\n\r\n@containerless()\r\nexport class ItemView {\r\n  @bindable item;\r\n  @bindable rendered = undefined;\r\n  @bindable removed = undefined;\r\n  widget = {};\r\n  constructor() {\r\n  }\r\n  attached() {\r\n    if (typeof (this.rendered) == \"function\")\r\n      this.rendered(this.item);\r\n\r\n  }\r\n  removeItem() {\r\n    if (typeof (this.rendered) == \"function\")\r\n      this.removed(this.item);\r\n  }\r\n}\r\n","export class Item{\r\n   constructor(id, x, y, width, height, content) {\r\n    this.id = id;    \r\n    this.x = x;\r\n    this.y = y;\r\n    this.width = width;\r\n    this.height = height;\r\n    this.content = content;\r\n  }\r\n}","import environment from './environment';\r\n\r\nexport function configure(aurelia) {\r\n  aurelia.use\r\n    .standardConfiguration()\r\n    .feature('resources');\r\n\r\n  if (environment.debug) {\r\n    aurelia.use.developmentLogging();\r\n  }\r\n\r\n  if (environment.testing) {\r\n    aurelia.use.plugin('aurelia-testing');\r\n  }\r\n\r\n  aurelia.start().then(() => aurelia.setRoot());\r\n}\r\n","export function configure(config) {\n  //config.globalResources([]);\n}\n",".grid-stack-item-content{\r\n    border: 1px solid black;\r\n}\r\n.grid-stack-item{\r\n    /*border: 1px solid blue;*/\r\n}"],"sourceRoot":".."}